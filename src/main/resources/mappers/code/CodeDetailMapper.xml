<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.sec.form.mapper.CodeDetailMapper">

    <insert id="create">
        INSERT INTO code_detail
        (
            group_code,
            code_value,
            code_name,
            sort_seq
        )
        VALUES
        (
            #{groupCode},
            #{codeValue},
            #{codeName},
            #{sortSeq}
        )
    </insert>

    <select id="getMaxSortSeq" resultType="int">
        SELECT IFNULL(MAX(sort_seq), 0)
        FROM code_detail
        WHERE group_code = #{groupCode}
    </select>

    <select id="list" resultType="CodeDetail">
        SELECT *
        FROM code_detail
        ORDER BY group_code ASC, sort_seq ASC
    </select>

</mapper>